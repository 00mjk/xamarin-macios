<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Sdk="Microsoft.NET.Sdk" Project="Sdk.targets" />
    <!-- Default item includes (globs and implicit references) -->
  <Import Project="Xamarin.Shared.Sdk.DefaultItems.targets" />

  <!-- Automatically supply project capabilities for IDE use -->
  <ItemGroup>
    <ProjectCapability Include="Apple" />
    <ProjectCapability Include="Mobile" />
  </ItemGroup>

  <!-- VERY BIG HACK: redefine several tasks to insert Before* and After* tasks -->
  <Target Name="ComputeFilesToPublish"
          DependsOnTargets="ComputeResolvedFilesToPublishList;
          					BeforeILLink;
                            ILLink;
                            AfterILLink;
                            CreateReadyToRunImages;
                            GeneratePublishDependencyFile;
                            GenerateSingleFileBundle">
  </Target>
  <Target Name="BeforeILLink" />
  <Target Name="AfterILLink" />



  <Target Name="ComputeAndCopyFilesToPublishDirectory"
          DependsOnTargets="BeforeComputeFilesToPublish;
          					ComputeFilesToPublish;
          					AfterComputeFilesToPublish;
                            CopyFilesToPublishDirectory" />
  <Target Name="BeforeComputeFilesToPublish" />
  <Target Name="AfterComputeFilesToPublish" />

  <!-- Inject a linker argument -->
  <Target Name="BeforeILLink">
  	<PropertyGroup>
  		<_ExtraTrimmerArgs>--verbose</_ExtraTrimmerArgs>
  	</PropertyGroup>
  </Target>

</Project>
